# Lighting

## 조명의 기본

> 물체가 어떻게 보이는가를 결정하는 핵심 요소

- **Ambient Light(주변광)** : 전체 기본 밝기

- **Diffuse Light (확산광)** : 형태와 입체감

투사광: 재질의 광택 표현

### Ambient Light(주변광)

```cpp
Ambient = lightColor * ambientStrength
```

- 장면 전체에 균일하게 적용되는 기본 밝기

- 광원의 방향, 위치와 무관

- 완전히 어두워지는 영역을 방지하기 위한 최소 조명

- 특징

    - 그림자 존재 X

    - 입체감 X

    - 계산 비용 매우 낮음

### Diffuse Light (확산광)

```cpp
Diffuse = lightColor * max(dot(N, L), 0)
```

- 빛이 표면에 닿아 여러 방향으로 퍼지는 조명

- 표면의 `normal` 방향과 광원 방향에 따라 밝기 결정

- **물체의 형태와 입체감을 표현하는 핵심 요소**

- 특징

    - Lambert 조명 모델 사용

    - 표면이 광원을 향할수록 밝아짐

### Specular Light(투사광 / 정반사광)

```cpp
Specular = lightColor * pow(max(dot(R, V), 0), shininess)
```

- 빛이 표면에서 **특정 방향으로 반사되는 조명**

- 카메라 위치에 따라 하이라이트가 이동

- 재질의 **광택감** 표현

- 특징

    - 매끄러운 표면일수록 강하게 표현

    - Shininess(또는 Specular Power) 값으로 날카로움 조절


## Lighting의 종류

광원은 빛이 어디서, 어떤 방향으로, 어떻게 퍼지는지에 따라

다음 세 가지로 구분

- **Directional** : 전역 방향광 (태양)

- **Point** : 위치 기반 전방향 조명

- **Spot** : 방향과 각도를 가진 집중 조명

### Directional Light(방향광)

> **무한히 먼 곳** 에서 오는 빛을 가정

- 위치 개념 x, 방향만 존재

- 모든 픽셀에 동일한 방향의 빛 적용

- 특징

    - 거리 감쇠 X

    - 태양, 달 같은 전역 광원 표현

    - 계산 비용 낮음

    - ex) *야외 씬, 지형, 캐릭터 전체 조명*

- 주요 파라미터

    ```
    direction
    color
    intensity
    ```

### Point Light(점광원)

- 하나의 **점 위치** 에서 모든 방향으로 빛 방출

- 특징

    - 위치 기반 조명

    - 거리 멀어질수록 빛 약해짐 (감쇠)

    - 방향 없음

    - ex) *전구, 불꽃, 램프 표현*

- 주요 파라미터

    ```
    position
    color
    intensity
    range
    attenuation (constant / linear / quadratic)
    ```

## 퍼져 나가는 빛

아래 세 가지는 빛이 주변으로 퍼져 나가는 양상을 단계별로 구분한 것

1. **Glow (글로우)** : 물체 자체가 스스로 빛을 내는 듯한 상태

    주로 물체 표면이나 아주 가까운 주변에 은은하게 머무는 빛의 기운처럼 보임

2. **Halo (헤일로)** : 광원 바로 주변에 형성되는 강하고 뚜렷한 빛의 고리

    대기 중의 입자에 의해 빛이 굴절되거나 렌즈 내부의 반사로 인해 발생하며, 태양의 본체와 대기를 구분 짓는 핵심 요소

3. **Bloom (블룸)** : 광원의 밝기가 너무 강해서 그 빛이 주변 사물이나 배경을 **침범(Bleeding)**하여 번지는 현상

    카메라 센서가 감당할 수 없는 밝은 에너지가 옆 픽셀로 넘쳐흐르는 현상을 재현한 것

